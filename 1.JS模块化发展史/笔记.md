# js模块化发展史

## 第一阶段
在js语言刚刚诞生的时候,它仅仅用于实现页面中的一些小效果,那个时候,一个页面所用到的js可能只有区区几百行的代码
在这种情况下,语言本身所存在的一些缺陷往往被大家有意的忽略,因为程序的规模实在太小,只要开发人员小心谨慎,往往不会造成什么问题
在这个阶段,也不存在专业的前端工程师,由于前端需要做的事情是在太少,因此这一部分工作往往由后端工程师顺带完成
第一阶段发生的大事件:
- 1996年,NetScape将JavaScript语言提交给欧洲的一个标准制定组织ECMA(欧洲计算机制造歇会)
- 1998年, NetScape在与微软浏览器IE竞争中失利,宣布破产

## 第二阶段
ajax的出现(微软的一个部门提出的),逐渐改变了js在浏览器中的扮演角色,现在它不仅可以实现小的效果,还可以与服务器之间进行交互,以更好地体验来改变数据,
js代码的数量开始逐渐增长,从最初的几百行,到后来的几万行,前端程序逐渐变得复杂,后端开发者压力逐渐增加,致使一些公司开始招募专业前端开发者
但此时,前端开发者的待遇远不及后端开发者,因为前端开发者承担的任务相对于后端来说还是比较简单的,通过短短一个月的集训就可以成为满足前端开发的需要
究其根本原因,是因为前端开发还有几个大的问题没有解决,这些问题都严重的制约了前端程序的规模进一步扩大
1. 浏览器解释执行js速度太慢
2. 用户端的电脑配置不足
3. 更多代码带来了全局污染,依赖关系混乱等问题

以上三个问题,就像阿碦琉斯之踵,称为前端开发之不去的阴影和原罪.
在这个阶段,前端开发处在一个非常尴尬的境地,它在传统的开发模式和前后端分离之间无助的徘徊
第二阶段的大事件:
1. IE浏览器制霸市场后,几乎不再更新
2. ES4.0流产,导致JS语言10年间几乎毫无变化
3. 2008年ES5发布,仅解决了一些JS API不足的糟糕局面

## 第三阶段
时间继续向前推移,到了2008年,谷歌的V8引擎发布,将JS的执行速度推上了一个新的台阶,甚至可以和后端语言媲美
摩尔定律持续发酵,个人电脑的配置开始飞跃

突然间,制约前端发展的两大问题得以解决,此时,只剩下最后一个问题还在负隅顽抗,即全局变量的污染和依赖混乱的问题,解决了它,前端便可以突破一切障碍,未来无可限量
于是,全世界的前端开发者在社区中激烈的讨论,想要为这个问题寻求解决之道...
2008年,有一个叫Ryan Dahl 小伙子正在为一件事焦头烂额,他需要在服务器端手写一个高性能的web服务,该服务对于性能要求之高,以至于目前市面上已有的web服务产品都满足不了需求
经过分析,他确定,如果要提高性能,那么必须尽可能减少线程,而要减少线程,避免不了实用的异步的处理方案
移开时,他打算自己使用c/c++语言来编写,可是这一过程实在太痛苦,就在他一筹莫展的时候,谷歌V8的发布引起了他的注意,他突然发现,js不就是最好的实现web服务的语言吗,他天生就是单线程,并且是基于异步,有了V8引擎的支持,它的执行速度完全可以撑起一个服务器,而且v8是大名鼎鼎的谷歌公司发布的,谷歌一定会不断优化V8,有这种省钱又省力的好事,干嘛要自己写呢
于是,它基于开源的V8引擎,对源码做了一些修改,便快速完成了该项目

2009年,Ryan推出了该web服务项目,命名nodejs
从此,js第一次堂堂正正的入住后端,不在是必须附属浏览器的"玩具"语言了
也是从此刻开始,人们认识到,js(ES)是一门真正的语言,它依附于运行环境(运行时)(宿主程序)而执行

nodejs的诞生,便把js中最后一个问题放到了台前,即全局变量污染和依赖混乱问题
要知道,nodejs是服务器端,如果不解决这个问题,分模块开发就无从实现,而模块化开发是所有后端程序必不可缺少的内容,
经过社区激烈讨论,最终形成一个模块化方案,即大名鼎鼎的CommonJS,该方案彻底解决了全局变量污染和依赖混乱的问题,该方案一出,立即被nodejs支持,于是nodejs成为第一个为js语言实现模块化的平台,为前端接下来的迅猛发展奠定了实践基础
该阶段大事件:
1. 2008年,V8发布
2. IE的市场逐步被firefox和chrome蚕食,现已经无力回天
3. 2009年,nodejs发布,并附带commonJS模块化标准


## 第四阶段
CommonJS的出现打开了前端开发者的思路
既然后端可以使用模块化的js,作为js语言的老东家浏览器为什么不行呢
于是,开始有人想办法把CommonJS运用到浏览器中
遇到很多困难,
办法总比困难多,有些开发者试想,既然CommonJS运用到浏览器困难,我们干嘛不自己制定一个模块化标准,
于是很快,AMD规范出炉,它解决的问题和CommonJS一样,但是可以更好地适应浏览器环境
相继的CMD规范出炉,对AMD规范进行改进
这些行为都受到了ECMA官方密切关注...
2015年,ES6发布,它提出了官方的模块化解决方案 - ES6模块化
从此以后,模块化成为了JS本身特有的性质,这门语言终于有了和其他语言较量的资本,成为了可以编写大型应用的正式语言
与此同时,很多开发者,技术厂商预见了js的无穷潜力,于是
- 既然js能编写大型应用,那么自然也需要像其他语言那样有解决复杂问题的开发框架
  - Angular,React,Vue等前端框架出现
  - Express,Koa等后端开发框架出现
  - 各种后端数据库驱动出现
- 要开发大型应用,自然少不了各种实用的第三方库的支持
  - npm包管理器出现,使用第三方库变得极其方便
  - webpack等构建工具出现,专门用于打包和部署
- 既然JS可以放到服务器环境,为什么不能放到其他终端环境呢?
  - Electron出现,可以使用JS语言开发桌面应用程序
  - RN和Vuex等技术出现,可以使用JS语言编写移动端应用程序
  - 各种小程序出现,可以使用JS编写依附于其他应用的小程序
  - 目前还有很多厂商致力于将js应用到各种其他终端设备,最终形成大前端生态

**可以看到,模块化的出现,打通了js通向大型应用的最后一堵墙,学习好模块化,就具备了编写大型应用的基本功**